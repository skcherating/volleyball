<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Volleyball Rotation Pro - Persistent&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>:root { --primary: #2563eb; --secondary: #dc2626; --bg: #f1f5f9; --court-a: #fbbf24; --court-b: #f87171; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); padding: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.container { max-width: 1100px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.no-print { display: block; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.roster-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>textarea { width: 100%; height: 60px; padding: 8px; border: 1px solid #cbd5e1; border-radius: 4px; resize: none; box-sizing: border-box; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.setup-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.team-box { padding: 15px; border-radius: 8px; border: 2px solid #e2e8f0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.team-a { border-color: var(--primary); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.team-b { border-color: var(--secondary); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.team-name-input { font-size: 1.1rem; font-weight: bold; margin-bottom: 10px; width: 100%; border: none; border-bottom: 2px solid #ddd; outline: none; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>select { width: 100%; padding: 6px; margin: 4px 0; border: 1px solid #cbd5e1; border-radius: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-group { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 10px; margin-top: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button { padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.gen-btn { background: #1e293b; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.print-btn { background: #10b981; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.clear-btn { background: #ef4444; color: white; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Court Output */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.output-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; margin-top: 30px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.rotation-card { border: 2px solid #334155; border-radius: 10px; padding: 15px; background: #fff; page-break-inside: avoid; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.rot-title { text-align: center; font-weight: bold; font-size: 1.1rem; margin-bottom: 10px; background: #334155; color: white; padding: 5px; border-radius: 4px; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.court { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; background: var(--court-a); padding: 8px; border: 2px solid #92400e; border-radius: 4px; margin-bottom: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.court.team-b-bg { background: var(--court-b); border-color: #991b1b; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.zone { background: rgba(255,255,255,0.9); height: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; border-radius: 2px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.zone span { font-size: 0.6rem; color: #64748b; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.court-label { font-size: 0.85rem; font-weight: bold; margin-bottom: 3px; display: block; text-transform: uppercase; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@media print {</p>
<p class="p1"><span class="Apple-converted-space">            </span>.no-print { display: none !important; }</p>
<p class="p1"><span class="Apple-converted-space">            </span>.container { box-shadow: none; max-width: 100%; padding: 0; }</p>
<p class="p1"><span class="Apple-converted-space">            </span>.output-grid { grid-template-columns: 1fr 1fr; gap: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="no-print"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 style="text-align:center; margin-top:0;"&gt;Volleyball Rotation Planner&lt;/h1&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="roster-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label&gt;Team A Roster (Comma separated)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;textarea id="roster-a-raw" oninput="saveData(); updateDropdowns()" placeholder="Player 1, Player 2..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label&gt;Team B Roster (Comma separated)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;textarea id="roster-b-raw" oninput="saveData(); updateDropdowns()" placeholder="Player 1, Player 2..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="setup-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="team-box team-a"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="name-a" class="team-name-input" value="TEAM A" oninput="saveData()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="selectors-a"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="team-box team-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="name-b" class="team-name-input" value="TEAM B" oninput="saveData()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="selectors-b"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="btn-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button class="gen-btn" onclick="generate()"&gt;Generate Rotations&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button class="print-btn" onclick="window.print()"&gt;Print&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button class="clear-btn" onclick="clearAll()"&gt;Clear All&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="output" class="output-grid"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>function init() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const createSelects = (id, pre) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cont = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">            </span>for(let i=1; i&lt;=6; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cont.innerHTML += `&lt;div style="margin-bottom:5px"&gt;P${i}: &lt;select id="${pre}${i}" onchange="saveData()"&gt;&lt;option value=""&gt;-- Select --&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>createSelects('selectors-a', 'a');</p>
<p class="p1"><span class="Apple-converted-space">        </span>createSelects('selectors-b', 'b');</p>
<p class="p1"><span class="Apple-converted-space">        </span>loadData();</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function updateDropdowns() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const rosters = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>a: document.getElementById('roster-a-raw').value.split(',').map(s =&gt; s.trim()).filter(s =&gt; s !== ""),</p>
<p class="p1"><span class="Apple-converted-space">            </span>b: document.getElementById('roster-b-raw').value.split(',').map(s =&gt; s.trim()).filter(s =&gt; s !== "")</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>['a', 'b'].forEach(team =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>for(let i=1; i&lt;=6; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const sel = document.getElementById(`${team}${i}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const currentVal = sel.getAttribute('data-stored-val') || sel.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>sel.innerHTML = '&lt;option value=""&gt;-- Select --&lt;/option&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>rosters[team].forEach(player =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>opt.value = player; opt.textContent = player;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(player === currentVal) opt.selected = true;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>sel.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function saveData() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const data = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>rosterA: document.getElementById('roster-a-raw').value,</p>
<p class="p1"><span class="Apple-converted-space">            </span>rosterB: document.getElementById('roster-b-raw').value,</p>
<p class="p1"><span class="Apple-converted-space">            </span>nameA: document.getElementById('name-a').value,</p>
<p class="p1"><span class="Apple-converted-space">            </span>nameB: document.getElementById('name-b').value,</p>
<p class="p1"><span class="Apple-converted-space">            </span>lineupA: Array.from({length:6}, (_,i) =&gt; document.getElementById(`a${i+1}`).value),</p>
<p class="p1"><span class="Apple-converted-space">            </span>lineupB: Array.from({length:6}, (_,i) =&gt; document.getElementById(`b${i+1}`).value)</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>localStorage.setItem('vballData', JSON.stringify(data));</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function loadData() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const saved = localStorage.getItem('vballData');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!saved) return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const data = JSON.parse(saved);</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('roster-a-raw').value = data.rosterA || '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('roster-b-raw').value = data.rosterB || '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('name-a').value = data.nameA || 'TEAM A';</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('name-b').value = data.nameB || 'TEAM B';</p>
<p class="p1"><span class="Apple-converted-space">        </span>updateDropdowns(); // Populate options first</p>
<p class="p1"><span class="Apple-converted-space">        </span>data.lineupA.forEach((val, i) =&gt; document.getElementById(`a${i+1}`).value = val);</p>
<p class="p1"><span class="Apple-converted-space">        </span>data.lineupB.forEach((val, i) =&gt; document.getElementById(`b${i+1}`).value = val);</p>
<p class="p1"><span class="Apple-converted-space">        </span>generate();</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function clearAll() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(confirm("Clear all data?")) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.removeItem('vballData');</p>
<p class="p1"><span class="Apple-converted-space">            </span>location.reload();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function generate() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const nameA = document.getElementById('name-a').value;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const nameB = document.getElementById('name-b').value;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aStart = Array.from({length:6}, (_,i) =&gt; document.getElementById(`a${i+1}`).value || `P${i+1}`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const bStart = Array.from({length:6}, (_,i) =&gt; document.getElementById(`b${i+1}`).value || `P${i+1}`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const out = document.getElementById('output');</p>
<p class="p1"><span class="Apple-converted-space">        </span>out.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>for(let r=0; r&lt;6; r++) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const rotA = [...aStart.slice(-r), ...aStart.slice(0, -r)];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const rotB = [...bStart.slice(-r), ...bStart.slice(0, -r)];</p>
<p class="p1"><span class="Apple-converted-space">            </span>out.innerHTML += `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="rotation-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="rot-title"&gt;ROTATION ${r+1}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="court-label" style="color:var(--primary)"&gt;${nameA}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="court"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="zone"&gt;&lt;span&gt;P4&lt;/span&gt;${rotA[3]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P3&lt;/span&gt;${rotA[2]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P2&lt;/span&gt;${rotA[1]}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="zone"&gt;&lt;span&gt;P5&lt;/span&gt;${rotA[4]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P6&lt;/span&gt;${rotA[5]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P1&lt;/span&gt;${rotA[0]}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="court-label" style="color:var(--secondary)"&gt;${nameB}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="court team-b-bg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="zone"&gt;&lt;span&gt;P4&lt;/span&gt;${rotB[3]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P3&lt;/span&gt;${rotB[2]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P2&lt;/span&gt;${rotB[1]}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="zone"&gt;&lt;span&gt;P5&lt;/span&gt;${rotB[4]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P6&lt;/span&gt;${rotB[5]}&lt;/div&gt;&lt;div class="zone"&gt;&lt;span&gt;P1&lt;/span&gt;${rotB[0]}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>init();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
